@inherits PortableRazor.ViewBase
@using System.Text.RegularExpressions
@model Chords.Android.Models.FindChordModel
<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="bootstrap.min.css" />
	<link rel="stylesheet" href="bootstrap-toggle.min.css" />
</head>
<body>
    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <span class="navbar-brand">Guitar Chords</span>
            </div>
                
            <div class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    <li><a href="hybrid:ShowChord">Show chord</a></li>
                    <li><a href="hybrid:FindChord">Find chord</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <script src="jquery.min.js"></script>
    <script src="bootstrap.min.js"></script>
	<script src="bootstrap-toggle.min.js"></script>
    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

		<!-- Main content start -->
		<form action="hybrid:FindChord">
			<div style="margin-top:20px;">
		        <select name="conv" title="Naming convention" style="width:100%; display:none;" onchange="updateNamingConvention(this.value);">
		        @foreach(var conv in Model.NamingConventions)
		        {
		            if (Model.conv == conv)
		            {
		                <option value="@conv" selected>@conv</option>
		            }
		            else
		            {
		                <option value="@conv">@conv</option>
		            }
		        }
		        </select>
            </div>
			<div style="margin-top:20px;">
			@for(var i = 0; i < Model.AllNotes[Model.conv].Length; i++)
			{
				<input type="checkbox" name="note" value="@(Regex.Replace(Model.AllNotes[Model.conv][i].ToString(), "<.*?>", String.Empty))" data-toggle="toggle" data-on="@(Model.AllNotes[Model.conv][i])" data-off="@(Model.AllNotes[Model.conv][i])" data-width="100px;" style="display:none;" />
				if (i % 5 == 4)
				{
				    <br />
				}
			}
            </div>
			<div style="margin-top:20px;">
			    <input type="submit" style="width:100%;" value="Find" style="display:none;" />
			</div>
		</form>
        <script type="text/javascript">				
            function updateNamingConvention(value) {
                location = 'hybrid:FindChord?conv=' + value;
            }
			$(document).ready(function(){
				$("input,select").show();
			});
        </script>
		<!-- Main content end -->
            
    </div>
    <hr />
    <footer>
        <p>&copy; 2017 - Tomáš Němec</p>
    </footer>
</body>
</html>
